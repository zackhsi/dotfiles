# Set prefix to Ctrl-space. C-b is for moving left.
unbind C-b
set -g prefix C-Space

# Status bar.
set -g status-style bg=default,fg=default

# Mouse.
set -g mouse on

# Keybindings.
setw -g mode-keys vi

# Navigation. Forward the navigation keys to current vim pane. Otherwise, select the tmux pane in that direction, if it exists.
bind -n C-h run "if tmux display-message -p '#{pane_current_command}' | grep -iq vim; then tmux send-keys C-h; else [ $(tmux display-message -p '#{pane_at_left}') -ne 1 ] && tmux select-pane -L || true; fi"
bind -n C-j run "if tmux display-message -p '#{pane_current_command}' | grep -iq vim; then tmux send-keys C-j; else [ $(tmux display-message -p '#{pane_at_bottom}') -ne 1 ] && tmux select-pane -D || true; fi"
bind -n C-k run "if tmux display-message -p '#{pane_current_command}' | grep -iq vim; then tmux send-keys C-k; else [ $(tmux display-message -p '#{pane_at_top}') -ne 1 ] && tmux select-pane -U || true; fi"
bind -n C-l run "if tmux display-message -p '#{pane_current_command}' | grep -iq vim; then tmux send-keys C-l; else [ $(tmux display-message -p '#{pane_at_right}') -ne 1 ] && tmux select-pane -R || true; fi"

# Rename window from empty string
# https://unix.stackexchange.com/a/269542/321198
bind-key , command-prompt "rename-window '%%'"

# status bar
set-option -g status-left "#[fg=magenta]#S#[fg=orange,bold]| "
set-option -g status-right ""
set-option -g pane-active-border-style fg=green
set-option -g message-style bg=default,fg=brightred
set-option -g message-style fg=magenta,bg=default
set-window-option -g window-status-style fg=magenta,bg=default
set-window-option -g window-status-current-style fg=green,bold,bg=default