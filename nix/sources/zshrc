# Auto-suggestions.
export NIX_DIR=~/dotfiles/nix
if [[ $(hostname) == st* ]]; then
  # Work laptop uses homebrew.
  export PATH=/opt/homebrew/bin:$PATH
  source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh
else
  # Personal laptop uses nix.
  source $NIX_DIR/result/home-path/share/zsh-autosuggestions/zsh-autosuggestions.zsh
fi
autoload compinit && compinit
export ZSH_AUTOSUGGEST_STRATEGY=(history completion)

# Directories.
alias d="cd ~/Desktop"
alias dot="cd ~/dotfiles"
alias oss="cd ~/oss"
alias s="cd ~/stripe"

# Editor.
export EDITOR=nvim

# Emacs keybindings.
bindkey -e

# Git.
alias g='git'
alias gc='git commit -v'
alias gca='git commit -v -a'
alias gco='git checkout'
alias gd='git diff'
alias gst='git status'
alias gl='git pull'
alias glg='git log'
gp() {
  if [[ $# -gt 0 ]]; then
    git push "$@"
  else
    git push --set-upstream origin "$(git rev-parse --abbrev-ref HEAD)"
  fi
}

# History.
bindkey '\t' end-of-line
bindkey "^P" history-beginning-search-backward
bindkey "^N" history-beginning-search-forward

# Ls.
alias ls="ls --color=auto"
alias la="ls -lAh"
alias ll="ls -lh"

# Neovim.
alias v="nvim"

# Starship.
eval "$(starship init zsh)"

# Tmux.
alias ta='tmux -u attach -t'
alias tad='tmux -u attach -d -t'
alias ts='tmux -u new-session -s'
alias tl='tmux -u list-sessions'
alias tksv='tmux -u kill-server'
alias tkss='tmux -u kill-session -t'
